{"soba_userInput":"Create a composite state to model a controller for media streaming in full detail","soba_metaModelContext":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ecore:EPackage xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" name=\"HierarchicalStateMachine\" nsURI=\"http://statemachines/0.1\" nsPrefix=\"hsm\">\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"StateMachine\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"states\" upperBound=\"-1\" eType=\"//State\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"transitions\" upperBound=\"-1\" eType=\"//Transition\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"description\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"State\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"isInitial\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EBoolean\"/>\r\n    <\/eStructuralFeatures>\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"isFinal\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EBoolean\"/>\r\n    <\/eStructuralFeatures>\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"name\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Transition\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"from\" lowerBound=\"1\" eType=\"//State\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"to\" lowerBound=\"1\" eType=\"//State\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"event\" eType=\"//Event\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"action\" eType=\"//Action\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"guard\" eType=\"//Guard\" containment=\"true\"/>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Event\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"name\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"CompositeState\" eSuperTypes=\"//State //StateMachine\"/>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Action\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"code\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Guard\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"condition\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"TimeEvent\" eSuperTypes=\"//Event\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"time\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EDouble\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n<\/ecore:EPackage>\r\n","recommendationPayload":{"xmi_id":"_mediaStreamingController","name":"MediaStreamingController","isInitial":false,"description":"Composite state modeling a controller for media streaming","___type___":"CompositeState","isFinal":false,"transitions":[{"xmi_id":"_t_idle_to_buffering","action":{"xmi_id":"_a_startBuffering","code":"initializeBuffer()","___type___":"Action"},"___type___":"Transition","from":"_idleState","to":"_bufferingState","event":{"xmi_id":"_e_startStreaming","name":"startStreaming","___type___":"Event"}},{"xmi_id":"_t_buffering_to_playing","guard":{"xmi_id":"_g_bufferFull","condition":"bufferIsFull()","___type___":"Guard"},"action":{"xmi_id":"_a_startPlayback","code":"playMedia()","___type___":"Action"},"___type___":"Transition","from":"_bufferingState","to":"_playingState"},{"xmi_id":"_t_playing_to_paused","action":{"xmi_id":"_a_pausePlayback","code":"pauseMedia()","___type___":"Action"},"___type___":"Transition","from":"_playingState","to":"_pausedState","event":{"xmi_id":"_e_pause","name":"pause","___type___":"Event"}},{"xmi_id":"_t_paused_to_playing","action":{"xmi_id":"_a_resumePlayback","code":"resumeMedia()","___type___":"Action"},"___type___":"Transition","from":"_pausedState","to":"_playingState","event":{"xmi_id":"_e_resume","name":"resume","___type___":"Event"}},{"xmi_id":"_t_playing_to_stopped","action":{"xmi_id":"_a_stopPlayback","code":"stopMedia()","___type___":"Action"},"___type___":"Transition","from":"_playingState","to":"_stoppedState","event":{"xmi_id":"_e_stop","name":"stop","___type___":"Event"}},{"xmi_id":"_t_paused_to_stopped","action":{"xmi_id":"_a_stopFromPause","code":"stopMedia()","___type___":"Action"},"___type___":"Transition","from":"_pausedState","to":"_stoppedState","event":{"xmi_id":"_e_stopFromPause","name":"stop","___type___":"Event"}},{"xmi_id":"_t_any_to_error","action":{"xmi_id":"_a_handleError","code":"logError(); notifyUser()","___type___":"Action"},"___type___":"Transition","from":"_playingState","to":"_errorState","event":{"xmi_id":"_e_errorOccurred","name":"errorOccurred","___type___":"Event"}},{"xmi_id":"_t_error_to_idle","action":{"xmi_id":"_a_resetController","code":"resetState()","___type___":"Action"},"___type___":"Transition","from":"_errorState","to":"_idleState","event":{"xmi_id":"_e_reset","name":"reset","___type___":"Event"}}],"states":[{"xmi_id":"_idleState","name":"Idle","isInitial":true,"___type___":"State","isFinal":false},{"xmi_id":"_bufferingState","name":"Buffering","isInitial":false,"___type___":"State","isFinal":false},{"xmi_id":"_playingState","name":"Playing","isInitial":false,"___type___":"State","isFinal":false},{"xmi_id":"_pausedState","name":"Paused","isInitial":false,"___type___":"State","isFinal":false},{"xmi_id":"_stoppedState","name":"Stopped","isInitial":false,"___type___":"State","isFinal":false},{"xmi_id":"_errorState","name":"Error","isInitial":false,"___type___":"State","isFinal":false}]}}