{"soba_userInput":"Create the states and transitions for a traffic light that has both lights for cars and for pedestrians, and that has time-triggered transitions","soba_metaModelContext":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ecore:EPackage xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" name=\"HierarchicalStateMachine\" nsURI=\"http://statemachines/0.1\" nsPrefix=\"hsm\">\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"StateMachine\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"states\" upperBound=\"-1\" eType=\"//State\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"transitions\" upperBound=\"-1\" eType=\"//Transition\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"description\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"State\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"isInitial\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EBoolean\"/>\r\n    <\/eStructuralFeatures>\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"isFinal\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EBoolean\"/>\r\n    <\/eStructuralFeatures>\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"name\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Transition\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"from\" lowerBound=\"1\" eType=\"//State\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"to\" lowerBound=\"1\" eType=\"//State\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"event\" eType=\"//Event\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"action\" eType=\"//Action\" containment=\"true\"/>\r\n    <eStructuralFeatures xsi:type=\"ecore:EReference\" name=\"guard\" eType=\"//Guard\" containment=\"true\"/>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Event\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"name\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"CompositeState\" eSuperTypes=\"//State //StateMachine\"/>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Action\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"code\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"Guard\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"condition\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EString\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n  <eClassifiers xsi:type=\"ecore:EClass\" name=\"TimeEvent\" eSuperTypes=\"//Event\">\r\n    <eStructuralFeatures xsi:type=\"ecore:EAttribute\" name=\"time\">\r\n      <eType xsi:type=\"ecore:EDataType\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EDouble\"/>\r\n    <\/eStructuralFeatures>\r\n  <\/eClassifiers>\r\n<\/ecore:EPackage>\r\n","recommendationPayload":{"xmi_id":"_jYfA0MyLEfCuhbiBFBlMQg","description":"Traffic Light","___type___":"StateMachine","transitions":[],"states":[{"xmi_id":"_CARComp_1","isInitial":false,"name":"CarSignals","description":"Car traffic lights cycle","___type___":"CompositeState","isFinal":false,"transitions":[{"xmi_id":"_t_car_g_y","action":{"xmi_id":"_act_car_g_y","code":"setCarYellow();","___type___":"Action"},"___type___":"Transition","from":"_CAR_Green","to":"_CAR_Yellow","event":{"xmi_id":"_te_car_g_y","name":"GreenTimeout","___type___":"TimeEvent","time":60000}},{"xmi_id":"_t_car_y_r","action":{"xmi_id":"_act_car_y_r","code":"setCarRed();","___type___":"Action"},"___type___":"Transition","from":"_CAR_Yellow","to":"_CAR_Red","event":{"xmi_id":"_te_car_y_r","name":"YellowTimeout","___type___":"TimeEvent","time":5000}},{"xmi_id":"_t_car_r_g","action":{"xmi_id":"_act_car_r_g","code":"setCarGreen();","___type___":"Action"},"___type___":"Transition","from":"_CAR_Red","to":"_CAR_Green","event":{"xmi_id":"_te_car_r_g","name":"RedTimeout","___type___":"TimeEvent","time":60000}}],"states":[{"xmi_id":"_CAR_Green","isInitial":true,"name":"CarGreen","___type___":"State","isFinal":false},{"xmi_id":"_CAR_Yellow","isInitial":false,"name":"CarYellow","___type___":"State","isFinal":false},{"xmi_id":"_CAR_Red","isInitial":false,"name":"CarRed","___type___":"State","isFinal":false}]},{"xmi_id":"_PEDComp_1","isInitial":false,"name":"PedestrianSignals","description":"Pedestrian signals cycle","___type___":"CompositeState","isFinal":false,"transitions":[{"xmi_id":"_t_ped_w_dw","action":{"xmi_id":"_act_ped_w_dw","code":"setPedDontWalk();","___type___":"Action"},"___type___":"Transition","from":"_PED_Walk","to":"_PED_DontWalk","event":{"xmi_id":"_te_ped_w_dw","name":"WalkTimeout","___type___":"TimeEvent","time":30000}},{"xmi_id":"_t_ped_dw_w","action":{"xmi_id":"_act_ped_dw_w","code":"setPedWalk();","___type___":"Action"},"___type___":"Transition","from":"_PED_DontWalk","to":"_PED_Walk","event":{"xmi_id":"_te_ped_dw_w","name":"DontWalkTimeout","___type___":"TimeEvent","time":30000}}],"states":[{"xmi_id":"_PED_Walk","isInitial":true,"name":"PedWalk","___type___":"State","isFinal":false},{"xmi_id":"_PED_DontWalk","isInitial":false,"name":"PedDontWalk","___type___":"State","isFinal":false}]}]}}